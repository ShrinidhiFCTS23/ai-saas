{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "iam": {
      "type": "object",
      "description": "This is the iam key where all iam permissions are attached for the deployment",
      "additionalProperties":false,
      "minProperties":1,
      "patternProperties": {
        "^[a-zA-Z0-9_.-]*$" : {
            "description":"This is the name of the iam object that you are creating, it can be of any name",
            "properties":{
                "arn":{
                    "type":"string",
                    "definition":"The arn of the policy that you want to create a role and attach it to the deployment"
                }
            },
            "required": ["arn"]
        }
      }
    },
    "vm": {
      "type": "object",
      "description": "This is the advanced block where we define vm implementation for aws",
      "properties": {
        "is_vm_image": {
          "type": "boolean",
          "description": "Boolean value to specify if the artifact is vm ami or not"
        },
        "vm_image_id": {
          "type": "string",
          "description": "Image id of the vm"
        },
        "is_public": {
          "type": "boolean",
          "description": "specify if the vm is public"
        },
        "security_group": {
          "type": "object",
          "description": "Define securrity groups for the vm",
          "properties": {
            "additional_ingress_with_cidr_blocks": {
              "type": "object",
              "description": "List of ingress rules to create where 'cidr_blocks' is used",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Define a name for the security group that you want to create",
                  "properties": {
                    "from_port": {
                      "type": "integer",
                      "description": "Define the port that you want to allow traffic from"
                    },
                    "to_port": {
                      "type": "integer",
                      "description": "Define the port that you want to allow traffic to"
                    },
                    "protocol": {
                      "type": "string",
                      "description": "Define the protocol that you want the traffic to follow"
                    },
                    "cidr_blocks": {
                      "type": "string",
                      "description": "Define the cidr range that you want to allow the traffic from"
                    }
                  }
                }
              }
            },
            "additional_ingress_cidr_blocks": {
              "type": "object",
              "description": "List of IPv4 CIDR ranges to use on all ingress rules",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "string",
                  "description": "Define the IPv4 CIDR ranges to use on all ingress rules"
                }
              }
            },
            "tags": {
              "type": "object",
              "description": "Tags you want to add to the security group",
              "properties": {
                "Name": {
                  "type": "string",
                  "description": "A mapping of tags to assign to security group"
                }
              }
            }
          }
        },
        "alb": {
          "type": "object",
          "description": "Define the status of alb",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Controls if the Load Balancer should be created"
            },
            "internal": {
              "type": "boolean",
              "description": "Boolean determining if the load balancer is internal or externally facing"
            },
            "additional_http_tcp_listeners": {
              "type": "object",
              "description": "Additional http tcp listeners that you want to add to the loadbalancer",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Define an arbitary name for the listener",
                  "properties": {
                    "port": {
                      "description": "port you want to map",
                      "type": "string"
                    },
                    "protocol": {
                      "description": "Protocol to be used",
                      "type": "string"
                    },
                    "default_action": {
                      "type": "object",
                      "description": "Define the default action",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for the default action",
                          "properties": {
                            "action_type": {
                              "type": "string",
                              "description": "specify the action type"
                            },
                            "target_group_index": {
                              "type": "string",
                              "description": "specify the target group index"
                            },
                            "redirect": {
                              "type": "object",
                              "description": "Define the options to redirect",
                              "additionalProperties": false,
                              "minProperties": 1,
                              "patternProperties": {
                                "^[a-zA-Z0-9_.-]*$": {
                                  "type": "object",
                                  "description": "Arbitary name for the redirect options",
                                  "properties": {
                                    "path": {
                                      "type": "string",
                                      "description": "specify path"
                                    },
                                    "host": {
                                      "type": "string",
                                      "description": "specify host"
                                    },
                                    "port": {
                                      "type": "string",
                                      "description": "specify port"
                                    },
                                    "protocol": {
                                      "type": "string",
                                      "description": "specify protocol"
                                    },
                                    "query": {
                                      "type": "string",
                                      "description": "specify query"
                                    },
                                    "status_code": {
                                      "type": "string",
                                      "description": "specify status code"
                                    }
                                  }
                                }
                              }
                            },
                            "fixed_response": {
                              "type": "object",
                              "description": "Define fixed response",
                              "additionalProperties": false,
                              "minProperties": 1,
                              "patternProperties": {
                                "^[a-zA-Z0-9_.-]*$": {
                                  "type": "object",
                                  "description": "Arbitary name for the fixed response",
                                  "properties": {
                                    "content_type": {
                                      "type": "string",
                                      "description": "specify content type"
                                    },
                                    "message_body": {
                                      "type": "string",
                                      "description": "specify message body"
                                    },
                                    "status_code": {
                                      "type": "string",
                                      "description": "specify status_code"
                                    }
                                  }
                                }
                              }
                            },
                            "tags": {
                              "type": "object",
                              "description": "Tags you want to add to the additional target groups",
                              "properties": {
                                "Name": {
                                  "type": "string",
                                  "description": "A mapping of tags to assign to additional target groups"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "required": ["port", "protocol"]
                }
              }
            },
            "additional_subnets": {
              "type": "object",
              "description": "Define additional subnets to attach",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "string",
                  "description": "A list of subnets to associate with the load balancer. e.g. ['subnet-1a2b3c4d','subnet-1a2b3c4e','subnet-1a2b3c4f']"
                }
              }
            },
            "additional_target_groups": {
              "type": "object",
              "description": "A list of maps containing key/value pairs that define the target groups to be created. Order of these maps is important and the index of these are to be referenced in listener definitions. Required key/values: name, backend_protocol, backend_port",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties":{
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the additional target groups",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "specify name"
                    },
                    "name_prefix": {
                      "type": "string",
                      "description": "specify name prefix"
                    },
                    "vpc_id": {
                      "type": "string",
                      "description": "specify vpc id"
                    },
                    "backend_port": {
                      "type": "string",
                      "description": "specify backend port"
                    },
                    "backend_protocol": {
                      "type": "string",
                      "description": "specify backend protocol"
                    },
                    "protocol_version": {
                      "type": "string",
                      "description": "specify protocol version"
                    },
                    "target_type": {
                      "type": "string",
                      "description": "specify target type"
                    },
                    "deregistration_delay": {
                      "type": "string",
                      "description": "specify deregistration delay"
                    },
                    "slow_start": {
                      "type": "string",
                      "description": "specify slow start"
                    },
                    "proxy_protocol_v2": {
                      "type": "string",
                      "description": "specify proxy protocol v2"
                    },
                    "lambda_multi_value_headers_enabled": {
                      "type": "string",
                      "description": "specify lambda multi value headers enabled"
                    },
                    "load_balancing_algorithm_type": {
                      "type": "string",
                      "description": "specify load balancing algorithm type"
                    },
                    "preserve_client_ip": {
                      "type": "string",
                      "description": "specify preserve_client_ip"
                    },
                    "health_check": {
                      "type": "object",
                      "description": "Define health check",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for health check",
                          "properties": {
                            "enabled": {
                              "type": "string",
                              "description": "specify if enabled"
                            },
                            "interval": {
                              "type": "string",
                              "description": "Specify interval"
                            },
                            "path": {
                              "type": "string",
                              "description": "specify path"
                            },
                            "port": {
                              "type": "string",
                              "description": "specify port"
                            },
                            "healthy_threshold": {
                              "type": "string",
                              "description": "specify healthy threshold"
                            },
                            "unhealthy_threshold": {
                              "type": "string",
                              "description": "specify unhealthy threshold"
                            },
                            "timeout": {
                              "type": "string",
                              "description": "specify timeout"
                            },
                            "protocol": {
                              "type": "string",
                              "description": "specify protocol"
                            },
                            "matcher": {
                              "type": "string",
                              "description": "specify matcher"
                            }
                          }
                        }
                      }
                    },
                    "stickiness": {
                      "type": "object",
                      "description": "define stickiness",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for stickiness",
                          "properties": {
                            "enabled": {
                              "type": "string",
                              "description": "specify if enabled"
                            },
                            "cookie_duration": {
                              "type": "string",
                              "description": "specify cookie duration"
                            },
                            "type": {
                              "type": "string",
                              "description": "specify type"
                            },
                            "cookie_name": {
                              "type": "string",
                              "description": "specify cookie name"
                            }
                          }
                        }
                      }
                    },
                    "tags": {
                      "type": "object",
                      "description": "Tags you want to add to the additional target groups",
                      "properties": {
                        "Name": {
                          "type": "string",
                          "description": "A mapping of tags to assign to additional target groups"
                        }
                      }
                    }
                  }
                }
              }
            },
            "target_group_arns": {
              "type": "object",
              "description": "Define your target group arn's",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "string",
                  "description": "Arbitary name for the target group arn's"
                }
              }
            },
            "tags": {
              "type": "object",
              "description": "Tags you want to add to the security group",
              "properties": {
                "Name": {
                  "type": "string",
                  "description": "A map of tags to add to all resources"
                }
              }
            }
          }
        },
        "autoscaling_group": {
          "type": "object",
          "description": "Define autoscaling group for the vm's",
          "properties": {
            "use_mixed_instances_policy": {
              "type": "boolean",
              "description": "Specify if you want to use use mixed instances policy"
            },
            "maintenance_options": {
              "type": "string",
              "description": "Define maintenance options"
            },
            "mixed_instances_policy": {
              "type": "object",
              "description": "Configuration block containing settings to define launch targets for Auto Scaling groups",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the mixed instances policy",
                  "properties": {
                    "instances_distribution": {
                      "type": "object",
                      "description": "specify the details of instances distribution",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "arbitary name for the instance distribution",
                          "properties": {
                            "on_demand_allocation_strategy": {
                              "type": "string",
                              "description": "specify on demand allocation strategy "
                            },
                            "on_demand_base_capacity": {
                              "type": "string",
                              "description": "specify the on demand base capacity"
                            },
                            "on_demand_percentage_above_base_capacity": {
                              "type": "string",
                              "description": "specify on demand percentage above base capacity"
                            },
                            "spot_allocation_strategy": {
                              "type": "string",
                              "description": "specify spot allocation strategy"
                            },
                            "spot_instance_pools": {
                              "type": "string",
                              "description": "specify spot instance pools"
                            },
                            "spot_max_price": {
                              "type": "string",
                              "description": "specify spot max price"
                            }
                          }
                        }
                      }
                    },
                    "overrides": {
                      "type": "object",
                      "description": "Specify your overrides for the instances",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "arbitary name for the overrides that you want to make",
                          "properties": {
                            "instance_type": {
                              "type": "string",
                              "description": "Specify the type of instance"
                            },
                            "weighted_capacity": {
                              "type": "string",
                              "description": "Specify the weighted capacity that you want for the instance type"
                            },
                            "launch_template_specification": {
                              "type": "object",
                              "description": "define launch template specification",
                              "additionalProperties": false,
                              "minProperties": 1,
                              "patternProperties": {
                                "^[a-zA-Z0-9_.-]*$": {
                                  "type": "object",
                                  "description": "Arbitary name for the launch template specification",
                                  "properties": {
                                    "launch_template_id": {
                                      "type": "string",
                                      "description": "specify the launch template id"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "placement": {
              "type": "object",
              "description": "The placement of the instance",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties":{
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the placement of the instance",
                  "properties": {
                    "affinity": {
                      "type": "string",
                      "description": "specify affinity"
                    },
                    "availability_zone": {
                      "type": "string",
                      "description": "specify availability zone"
                    },
                    "group_name": {
                      "type": "string",
                      "description": "specify group name"
                    },
                    "host_id": {
                      "type": "string",
                      "description": "specify host id"
                    },
                    "host_resource_group_arn": {
                      "type": "string",
                      "description": "specify host resource group arn"
                    },
                    "spread_domain": {
                      "type": "string",
                      "description": "specify spread domain"
                    },
                    "tenancy": {
                      "type": "string",
                      "description": "specify tenancy"
                    },
                    "partition_number": {
                      "type": "string",
                      "description": "specify partition number"
                    }
                  }
                }
              }
            },
            "instance_refresh": {
              "type": "object",
              "description": "If this block is configured, start an Instance Refresh when this Auto Scaling Group is updated",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the instance refresh properties",
                  "properties": {
                    "strategy": {
                      "type": "string",
                      "description": "Specify the strategy"
                    },
                    "triggers": {
                      "type": "string",
                      "description": "Specify the triggers"
                    },
                    "preferences": {
                      "type": "object",
                      "description": "Specify the preferences",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "arbitary name for the preferences",
                          "properties": {
                            "checkpoint_delay": {
                              "type": "string",
                              "description": "specify checkpoint delay"
                            },
                            "checkpoint_percentages": {
                              "type": "string",
                              "description": "specify checkpoint percentage"
                            },
                            "instance_warmup": {
                              "type": "string",
                              "description": "specify instance warmup"
                            },
                            "min_healthy_percentage": {
                              "type": "string",
                              "description": "specify min healthy percentage"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "network_interfaces": {
              "type": "object",
              "description": "Customize network interfaces to be attached at instance boot time",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for network interfaces",
                  "properties": {
                    "associate_carrier_ip_address": {
                      "type": "string",
                      "description": "specify associate carrier ip address"
                    },
                    "associate_public_ip_address": {
                      "type": "string",
                      "description": "specify associate public ip address"
                    },
                    "delete_on_termination": {
                      "type": "string",
                      "description": "specify delete on termination"
                    },
                    "description": {
                      "type": "object",
                      "description": "specify description"
                    },
                    "device_index": {
                      "type": "string",
                      "description": "specify device index"
                    },
                    "interface_type": {
                      "type": "string",
                      "description": "specify interface type"
                    },
                    "ipv4_addresses": {
                      "type": "string",
                      "description": "specify ipv4 addresses"
                    },
                    "ipv4_address_count": {
                      "type": "string",
                      "description": "specify ipv4 address count"
                    },
                    "ipv6_addresses": {
                      "type": "string",
                      "description": "specify ipv6 addresses"
                    },
                    "ipv6_address_count": {
                      "type": "string",
                      "description": "specify ipv6 address count"
                    },
                    "network_interface_id": {
                      "type": "string",
                      "description": "specify network interface id"
                    },
                    "network_card_index": {
                      "type": "string",
                      "description": "specify network card index"
                    },
                    "private_ip_address": {
                      "type": "string",
                      "description": "specify private ip address"
                    },
                    "security_groups": {
                      "type": "string",
                      "description": "specify security groups"
                    },
                    "subnet_id": {
                      "type": "string",
                      "description": "specify subnet id"
                    }
                  }
                }
              }
            },
            "metadata_options": {
              "type": "object",
              "description": "Customize the metadata options for the instance",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for metadata options",
                  "properties": {
                    "http_endpoint": {
                      "type": "string",
                      "description": "specify http endpoint"
                    },
                    "http_tokens": {
                      "type": "string",
                      "description": "specify http tokens"
                    },
                    "http_put_response_hop_limit": {
                      "type": "string",
                      "description": "specify http put response hop limit"
                    },
                    "http_protocol_ipv6": {
                      "type": "string",
                      "description": "specify http protocol ipv6"
                    },
                    "instance_metadata_tags": {
                      "type": "string",
                      "description": "specify instance metadata tags"
                    }
                  }
                }
              }
            },
            "instance_market_options": {
              "type": "object",
              "description": "The market (purchasing) option for the instance",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the instance market options",
                  "properties": {
                    "market_type": {
                      "type": "string",
                      "description": "specify market type"
                    },
                    "spot_options": {
                      "type": "object",
                      "description": "Define spot options",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for instance spot options",
                          "properties": {
                            "block_duration_minutes": {
                              "type": "string",
                              "description": "specify block duration minutes"
                            },
                            "instance_interruption_behavior": {
                              "type": "string",
                              "description": "specify instance interruption behavior"
                            },
                            "max_price": {
                              "type": "string",
                              "description": "specify max price"
                            },
                            "spot_instance_type": {
                              "type": "string",
                              "description": "specify spot instance type"
                            },
                            "valid_until": {
                              "type": "string",
                              "description": "specify valid until time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "scaling_policies": {
              "type": "object",
              "description": "Map of target scaling policy schedule to create",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the scaling policies",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "specify the name"
                    },
                    "adjustment_type": {
                      "type": "string",
                      "description": "specify the adjustment type"
                    },
                    "policy_type": {
                      "type": "string",
                      "description": "specify the policy type"
                    },
                    "estimated_instance_warmup": {
                      "type": "string",
                      "description": "specify the estimated instance warmup"
                    },
                    "cooldown": {
                      "type": "string",
                      "description": "specify the cooldown value"
                    },
                    "min_adjustment_magnitude": {
                      "type": "string",
                      "description": "specify the min adjustment magnitude"
                    },
                    "metric_aggregation_type": {
                      "type": "string",
                      "description": "specify the metric aggregation type"
                    },
                    "step_adjustment": {
                      "type": "object",
                      "description": "define the step adjustment",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for the step adjustment",
                          "properties": {
                            "scaling_adjustment": {
                              "type": "string",
                              "description": "specify scaling adjustment"
                            },
                            "metric_interval_lower_bound": {
                              "type": "string",
                              "description": "specify the metric interval lower bound"
                            },
                            "metric_interval_upper_bound": {
                              "type": "string",
                              "description": "specify the metric interval upper bound"
                            }
                          }
                        }
                      }
                    },
                    "target_tracking_configuration": {
                      "type": "object",
                      "description": "Define target_tracking_configuration",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for the target tracking configuration",
                          "properties": {
                            "target_value": {
                              "type": "string",
                              "description": "specify target value"
                            },
                            "disable_scale_in": {
                              "type": "string",
                              "description": "specify disable scale in"
                            },
                            "predefined_metric_specification": {
                              "type": "object",
                              "description": "Define predefined metric specification",
                              "additionalProperties": false,
                              "minProperties": 1,
                              "patternProperties": {
                                "^[a-zA-Z0-9_.-]*$": {
                                  "type": "object",
                                  "description": "Arbitary name for the predefined metric specification",
                                  "properties": {
                                    "predefined_metric_type": {
                                      "type": "string",
                                      "description": "specify predefined metric type"
                                    }
                                  }
                                }
                              }
                            },
                            "customized_metric_specification": {
                              "type": "object",
                              "description": "Define customized metric specification",
                              "additionalProperties": false,
                              "minProperties": 1,
                              "patternProperties": {
                                "^[a-zA-Z0-9_.-]*$": {
                                  "type": "object",
                                  "description": "Arbitary name for customized metric specification",
                                  "properties": {
                                    "metric_dimension": {
                                      "type": "object",
                                      "description": "Define metric dimension",
                                      "additionalProperties": false,
                                      "minProperties": 1,
                                      "patternProperties": {
                                        "^[a-zA-Z0-9_.-]*$": {
                                          "properties": {
                                            "name": {
                                              "type": "string",
                                              "description": "specify name"
                                            },
                                            "value": {
                                              "type": "string",
                                              "description": "specify value"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "metric_name": {
                                      "type": "string",
                                      "description": "specify metric name"
                                    },
                                    "namespace": {
                                      "type": "string",
                                      "description": "Specify namespace"
                                    },
                                    "statistic": {
                                      "type": "string",
                                      "description": "specify statistic"
                                    },
                                    "unit": {
                                      "type": "string",
                                      "description": "specify unit"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "predictive_scaling_configuration": {
                      "type": "object",
                      "description": "Define predictive scaling configuration",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for predictive scaling configuration",
                          "properties": {
                            "max_capacity_breach_behavior": {
                              "type": "string",
                              "description": " specify max capacity breach behavior"
                            },
                            "max_capacity_buffer": {
                              "type": "string",
                              "description": "specify max capacity buffer"
                            },
                            "mode": {
                              "type": "string",
                              "description": "specify mode"
                            },
                            "scheduling_buffer_time": {
                              "type": "string",
                              "description": " specify scheduling buffer time"
                            },
                            "metric_specification": {
                              "type": "object",
                              "description": "Define metric specification",
                              "additionalProperties": false,
                              "minProperties": 1,
                              "patternProperties": {
                                "^[a-zA-Z0-9_.-]*$": {
                                  "type": "object",
                                  "description": "Arbitary name for the metric specification",
                                  "properties": {
                                    "target_value": {
                                      "type": "string",
                                      "description": "specify target value"
                                    },
                                    "predefined_load_metric_specification": {
                                      "type": "object",
                                      "description": "Define predefined load metric specification",
                                      "additionalProperties": false,
                                      "minProperties": 1,
                                      "patternProperties": {
                                        "^[a-zA-Z0-9_.-]*$": {
                                          "type": "object",
                                          "description": "Arbitary name for the predefined load metric specification",
                                          "properties": {
                                            "predefined_metric_type": {
                                              "type": "string",
                                              "description": "specify predefined metric type"
                                            },
                                           "resource_label": {
                                            "type": "string",
                                            "description": "specify resource label"
                                           } 
                                          }
                                        }
                                      }
                                    },
                                    "predefined_metric_pair_specification": {
                                      "type": "object",
                                      "description": "define predefined metric pair specification",
                                      "additionalProperties": false,
                                      "minProperties": 1,
                                      "patternProperties": {
                                        "^[a-zA-Z0-9_.-]*$": {
                                          "type": "object",
                                          "description": "Arbitary name for the predefined metric pair specification",
                                          "properties": {
                                            "predefined_metric_type": {
                                              "type": "string",
                                              "description": "specify predefined metric type"
                                            },
                                            "resource_label": {
                                              "type": "string",
                                              "description": "specify resource label"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "predefined_scaling_metric_specification": {
                                      "type": "object",
                                      "description": "Define predefined scaling metric specification",
                                      "additionalProperties": false,
                                      "minProperties": 1,
                                      "patternProperties": {
                                        "^[a-zA-Z0-9_.-]*$": {
                                          "type": "object",
                                          "description": "Arbitary name for the predefined scaling metric specification",
                                          "properties": {
                                            "predefined_metric_type": {
                                              "type": "string",
                                              "description": "specify predefined metric type"
                                            },
                                            "resource_label": {
                                              "type": "string",
                                              "description": "specify resource label"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "cpu_options": {
              "type": "object",
              "description": "The CPU options for the instance",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the cpu options",
                  "properties": {
                    "core_count": {
                      "type": "string",
                      "description": "specify cpu core count"
                    },
                    "threads_per_core": {
                      "type": "string",
                      "description": "specify threads per core"
                    }
                  }
                }
              }
            },
            "credit_specification": {
              "type": "object",
              "description": "Customize the credit specification of the instance",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for credit specification",
                  "properties": {
                    "cpu_credits": {
                      "type": "string",
                      "description": "specify the cpu credits"
                    }
                  }
                }
              }
            },
            "schedules": {
              "type": "object",
              "description": "Map of autoscaling group schedule to create",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for the schedules",
                  "properties": {
                    "min_size": {
                      "type": "string",
                      "description": "specify minimum size"
                    },
                    "max_size": {
                      "type": "string",
                      "description": "specify max size"
                    },
                    "desired_capacity": {
                      "type": "string",
                      "description": "specify desired capacity"
                    },
                    "start_time": {
                      "type": "string",
                      "description": "specify start time"
                    },
                    "end_time": {
                      "type": "string",
                      "description": "specify end time"
                    },
                    "time_zone": {
                      "type": "string",
                      "description": "specify time zone"
                    }
                  }
                }
              }
            },
            "block_device_mappings": {
              "type": "object",
              "description": "Specify volumes to attach to the instance besides the volumes specified by the AMI",
              "additionalProperties": false,
              "minProperties": 1,
              "patternProperties": {
                "^[a-zA-Z0-9_.-]*$": {
                  "type": "object",
                  "description": "Arbitary name for block device mappings",
                  "properties": {
                    "device_name": {
                      "type": "string",
                      "description": "specify device name"
                    },
                    "no_device": {
                      "type": "string",
                      "description": ""
                    },
                    "virtual_name": {
                      "type": "string",
                      "description": "specify virtual name"
                    },
                    "ebs": {
                      "type": "object",
                      "description": "define ebs",
                      "additionalProperties": false,
                      "minProperties": 1,
                      "patternProperties": {
                        "^[a-zA-Z0-9_.-]*$": {
                          "type": "object",
                          "description": "Arbitary name for ebs",
                          "properties": {
                            "delete_on_termination": {
                              "type": "string",
                              "description": "specify if delete on termination"
                            },
                            "encrypted": {
                              "type": "string",
                              "description": "specify if encrypted"
                            },
                            "kms_key_id": {
                              "type": "string",
                              "description": "specify kms key id"
                            },
                            "iops": {
                              "type": "string",
                              "description": "specify iops"
                            },
                            "throughput": {
                              "type": "string",
                              "description": "specify throughput"
                            },
                            "snapshot_id": {
                              "type": "string",
                              "description": "specify snapshot id"
                            },
                            "volume_size": {
                              "type": "string",
                              "description": "specify volume size"
                            },
                            "volume_type": {
                              "type": "string",
                              "description": "specify volume type"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}